<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Bookmarklet - Analise WebPage</title>
  </head>
  <body>
    <h2>Drag this <a href="javascript:!function(){var%20t,e,n,o=[];t=document.getElementsByTagName(%22div%22),e=t[0].getElementsByTagName(%22*%22);for(var%20g=0;g%3Ce.length;g++)n={prop:e[g].getAttribute(%22itemprop%22),text:e[g].textContent},o.push(n);console.log(o)}();">bookmarklet</a> to your bookmarks bar!!</h2>

    <h3>Data from the page:</h3>
    <ul>
      <div itemscope itemtype="http://schema.org/ItemList">
          <span itemprop="name">Americo</span>
          <span itemprop="numberOfItems">315</span>
          <span itemprop="price">£4399</span>
          <a itemprop="url" href="https://www.google.pt/">https://www.google.pt/</a>
      </div>
    </ul>
    <ul>
      <div itemscope itemtype="http://schema.org/ItemList">
          <span itemprop="name">Ana</span>
          <span itemprop="numberOfItems">243</span>
          <span itemprop="price">£43995</span>
          <a itemprop="url" href="https://www.google.com/">https://www.google.com/</a>
      </div>
    </ul>
    <ul>
      <div itemscope itemtype="http://schema.org/ItemList">
          <span itemprop="name">Hugo</span>
          <span itemprop="numberOfItems">33</span>
          <span itemprop="price">£7399</span>
          <a itemprop="url" href="https://www.google.co.uk/">https://www.google.co.uk/</a>
      </div>
    </ul>

    <script type="text/javascript">
      var divDOM, descendents, item;
      var items = [];

      divDOM = document.getElementsByTagName('div');
      descendents = divDOM[0].getElementsByTagName('*');
      for(var i = 0; i < descendents.length; i++) {
        item = {
          prop: descendents[i].getAttribute('itemprop'),
          text: descendents[i].textContent
        }
        items.push(item);
      }
      console.log(items);
    </script>

  </body>
</html>
